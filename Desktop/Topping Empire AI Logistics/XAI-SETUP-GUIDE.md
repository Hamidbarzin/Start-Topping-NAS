# ุฑุงูููุง ฺฉุงูู ูุนุงูโุณุงุฒ xAI API ุจุฑุง Topping Empire

## ๐ฏ ููุง ฺฉู
ุงู ุฑุงูููุง ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ ฺฉู xAI API ุฑุง ฺฉุงูู ูุนุงู ฺฉูุฏ ู ุฏุฑ ูพุฑูฺู ุฎูุฏ ุงุฏุบุงู ฺฉูุฏ.

---

## ๐ ฺฏุงู 1: ุซุจุชโูุงู ู ุฏุฑุงูุช ุงุดุชุฑุงฺฉ

### 1.1 ุซุจุชโูุงู
1. ุจู [console.x.ai](https://console.x.ai) ุจุฑูุฏ
2. ุจุง ุญุณุงุจ X (x.com) ุฎูุฏ ูุงุฑุฏ ุดูุฏ
3. ุจุนุฏ ุงุฒ ูุฑูุฏุ ุจู ุฏุงุดุจูุฑุฏ ูุฏุงุช ูโุดูุฏ

### 1.2 ุงูุชุฎุงุจ ุงุดุชุฑุงฺฉ ููุงุณุจ

#### ฺฏุฒูู A: X Premium+ ($40/ูุงู)
- ุฏุณุชุฑุณ ุจู Grok 3 ู Grok 3-mini
- ููุงุณุจ ุจุฑุง ุงุณุชูุงุฏู ุนููู
- $25 ุงุนุชุจุงุฑ ุฑุงฺฏุงู ูุงูุงูู ุฏุฑ ุจุชุง

#### ฺฏุฒูู B: SuperGrok ($50/ูุงู) - ูพุดููุงุฏ
- ุฏุณุชุฑุณ ุจู Grok 4 (ุจูุชุฑู ฺฉูุช)
- ููุงุณุจ ุจุฑุง ุชุญูู ูพุดุฑูุชู
- ูุญุฏูุฏุช ุจุงูุงุชุฑ ูุฑุฎ

### 1.3 ุฏุฑุงูุช ุงุดุชุฑุงฺฉ
1. ุฏุฑ console.x.aiุ ุจุฎุด **"Billing"** ุฑุง ุจุงุฒ ฺฉูุฏ
2. **"Upgrade to Premium"** ุง **"Subscribe to SuperGrok"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุงุทูุงุนุงุช ูพุฑุฏุงุฎุช ุฑุง ูุงุฑุฏ ฺฉูุฏ
4. ููุชุธุฑ ุชุฃุฏ ุจูุงูุฏ (ูุนูููุงู 24-48 ุณุงุนุช)

---

## ๐ ฺฏุงู 2: ุงุฌุงุฏ ู ูุนุงูโุณุงุฒ ฺฉูุฏ API

### 2.1 ุงุฌุงุฏ ฺฉูุฏ ุฌุฏุฏ
1. ุฏุฑ ุฏุงุดุจูุฑุฏุ ุจู ุจุฎุด **"Keys"** ุจุฑูุฏ
2. ุฑู **"Create New Key"** ฺฉูฺฉ ฺฉูุฏ
3. ูุงู ฺฉูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูุซูุงู: `Topping-Empire-Prod`)
4. ุฑู **"Create"** ฺฉูฺฉ ฺฉูุฏ
5. **โ๏ธ ููู**: ฺฉูุฏ ุฑุง ููุฑุงู ฺฉูพ ฺฉูุฏ - ุฏฺฏุฑ ููุงุด ุฏุงุฏู ููโุดูุฏ!

### 2.2 ุจุฑุฑุณ ูุถุนุช ฺฉูุฏ
1. ุฏุฑ ูุณุช ฺฉูุฏูุงุ ูุถุนุช ุจุงุฏ **"Active"** ุจุงุดุฏ
2. ุงฺฏุฑ **"Pending"** ุงุณุชุ 24-48 ุณุงุนุช ุตุจุฑ ฺฉูุฏ
3. ุงฺฏุฑ ุจุนุฏ ุงุฒ 48 ุณุงุนุช ูููุฒ ุบุฑูุนุงู ุงุณุช:
   - ุงูู ุจู support@x.ai ุจูุฑุณุชุฏ
   - ุง ุชฺฉุช ุฏุฑ console.x.ai ุงุฌุงุฏ ฺฉูุฏ

### 2.3 ุฐุฎุฑู ุงูู ฺฉูุฏ
```bash
# ุฏุฑ ูุงู .env (ุชูุตู ูโุดูุฏ):
XAI_API_KEY=your-api-key-here

# ุง ุฏุฑ localStorage (ุจุฑุง ุชุณุช):
localStorage.setItem('xai_api_key', 'your-api-key-here');
```

---

## ๐ ฺฏุงู 3: ุฑูุน ูุดฺฉูุงุช ุฑุงุฌ

### ูุดฺฉู 1: ุฎุทุง 401 - ฺฉูุฏ API ูุนุชุจุฑ ูุณุช
**ุนูุช**: ฺฉูุฏ ุบุฑูุนุงู ุง ุงุดุชุจุงู  
**ุฑุงูโุญู**:
```javascript
// ุจุฑุฑุณ ฺฉูุฏ ุฏุฑ console.x.ai
// ุงฺฏุฑ ูููุถ ุดุฏูุ ฺฉูุฏ ุฌุฏุฏ ุจุณุงุฒุฏ
const API_KEY = 'your-new-key';
```

### ูุดฺฉู 2: ุฎุทุง 429 - ูุญุฏูุฏุช ูุฑุฎ
**ุนูุช**: ุฏุฑุฎูุงุณุชโูุง ุฒุงุฏ  
**ุฑุงูโุญู**: ูพุงุฏูโุณุงุฒ exponential backoff
```javascript
async function getAIAdviceWithRetry(tasks, retries = 3) {
    for (let i = 0; i < retries; i++) {
        try {
            return await getAIAdvice(tasks);
        } catch (error) {
            if (error.status === 429) {
                const delay = Math.pow(2, i) * 1000; // 1s, 2s, 4s
                await new Promise(r => setTimeout(r, delay));
            } else {
                throw error;
            }
        }
    }
}
```

### ูุดฺฉู 3: ุฎุทุง 404 - ูุฏู ุงูุช ูุดุฏ
**ุนูุช**: ูุงู ูุฏู ุงุดุชุจุงู  
**ุฑุงูโุญู**: ุงุณุชูุงุฏู ุงุฒ aliases ุง ูุฏูโูุง ุตุญุญ
```javascript
// โ ุตุญุญ
const models = [
    'grok-beta',        // ุนููู
    'grok-2-1212',     // ูพุงุฏุงุฑ
    'grok-2-vision',   // ุจุง ุจูุง
    'grok-2-latest'    // ุขุฎุฑู ูุณุฎู
];

// โ ูุงูุนุชุจุฑ
const invalid = 'grok-4'; // ูุงุฒ ุจู SuperGrok
```

### ูุดฺฉู 4: ุชุฃุฎุฑ ุฏุฑ ูุนุงูโุณุงุฒ ฺฉูุฏ
**ุฑุงูโุญู**:
1. ุตุจุฑ ฺฉูุฏ (ูุนูููุงู 24-48 ุณุงุนุช)
2. ุจุฑุฑุณ ฺฉูุฏ billing ูุนุงู ุจุงุดุฏ
3. ุงูู ุจู support@x.ai

### ูุดฺฉู 5: ูุญุฏูุฏุช ฺฉุดูุฑูุง
**ุฑุงูโุญู**: 
- ุจุฑุฑุณ eligibility ุฏุฑ console.x.ai
- ุงุณุชูุงุฏู ุงุฒ proxy/VPN (ุงฺฏุฑ ูุงููู ุงุณุช)
- ุฌุงฺฏุฒู: OpenAI GPT-4o-mini

---

## ๐ป ฺฏุงู 4: ุงุฏุบุงู ุฏุฑ ูพุฑูฺู

### 4.1 ุณุงุฎุชุงุฑ ฺฉู
```javascript
// ุฏุฑ coach.html

// API Configuration
const XAI_CONFIG = {
    apiKey: 'YOUR_XAI_API_KEY_HERE', // Replace with your actual API key
    model: 'grok-beta',
    endpoint: 'https://api.x.ai/v1/chat/completions'
};

// ุชุงุจุน ุงุตู
async function getAIAdvice(incompleteTasks) {
    const context = incompleteTasks.map(t => 
        `ฺฉุงุฑ: "${t.title}" | ุงูููุช: ${t.priority} | ุฏูู: ${t.reason}`
    ).join('\n');

    const prompt = `ุจู ุนููุงู ูุฑุจ ฺฉุณุจโูฺฉุงุฑ ุญุฑููโุงุ ุชุญูู ฺฉู ู ูพุดููุงุฏ ุจุฏู:\n\n${context}`;

    try {
        const response = await fetch(XAI_CONFIG.endpoint, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${XAI_CONFIG.apiKey}`
            },
            body: JSON.stringify({
                model: XAI_CONFIG.model,
                messages: [
                    { role: 'system', content: 'ูุฑุจ ฺฉุณุจโูฺฉุงุฑ ุญุฑููโุง ุจู ุฒุจุงู ูุงุฑุณ' },
                    { role: 'user', content: prompt }
                ],
                max_tokens: 500,
                temperature: 0.7
            })
        });

        if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
        }

        const data = await response.json();
        return data.choices[0].message.content;
    } catch (error) {
        console.error('โ ุฎุทุง xAI:', error);
        return null; // Fallback to local suggestions
    }
}
```

### 4.2 ูุฏุฑุช ุฎุทุงูุง ุจุง Fallback
```javascript
async function updateAI() {
    // ุชุญูู ูุญู
    let suggestions = [...localSuggestions];

    // ุชูุงุด ุจุฑุง ุฏุฑุงูุช ุงุฒ xAI
    try {
        const aiAdvice = await getAIAdvice(incompleteTasks);
        if (aiAdvice) {
            suggestions.push(...aiAdvice.split('\n'));
        }
    } catch (error) {
        console.log('โ๏ธ ุงุณุชูุงุฏู ุงุฒ ูพุดููุงุฏุงุช ูุญู');
    }

    // ููุงุด ููุง
    displaySuggestions([...new Set(suggestions)]);
}
```

### 4.3 ุชุณุช ุฏุฑ ูุฑูุฑฺฏุฑ
```javascript
// ุจุงุฒ ฺฉุฑุฏู Console (F12)
// ุงุฌุฑุง ุงู ฺฉุฏ:

async function testXAI() {
    const response = await fetch('https://api.x.ai/v1/chat/completions', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer YOUR_XAI_API_KEY_HERE' // Replace with your actual API key
        },
        body: JSON.stringify({
            model: 'grok-beta',
            messages: [
                { role: 'user', content: 'ุณูุงู! ุชุณุช ุงุชุตุงู' }
            ],
            max_tokens: 100
        })
    });
    
    const data = await response.json();
    console.log('โ ุชุณุช ูููู:', data);
}

testXAI();
```

---

## ๐ ฺฏุงู 5: ูุธุงุฑุช ุจุฑ ูุฒููโูุง

### 5.1 ูุญุงุณุจู ุชูฺฉูโูุง
```javascript
function estimateTokens(text) {
    // ุชูุฑุจ: 1 ุชูฺฉู โ 4 ฺฉุงุฑุงฺฉุชุฑ ูุงุฑุณ
    return Math.ceil(text.length / 4);
}

function estimateCost(prompt, model) {
    const tokens = estimateTokens(prompt);
    const costs = {
        'grok-beta': 0.001,      // $1/1000 tokens
        'grok-2-1212': 0.0015,   // $1.5/1000 tokens
        'grok-2-vision': 0.002   // $2/1000 tokens
    };
    
    const cost = (tokens / 1000) * (costs[model] || 0.001);
    console.log(`๐ฐ ูุฒูู ุชูุฑุจ: $${cost.toFixed(4)}`);
    
    return cost;
}
```

### 5.2 ูุดุฏุงุฑ ูุฒูู
```javascript
const DAILY_LIMIT = 10; // $10 per day

let dailySpent = parseFloat(localStorage.getItem('daily_spent') || '0');

function trackCost(cost) {
    dailySpent += cost;
    localStorage.setItem('daily_spent', dailySpent.toString());
    
    if (dailySpent > DAILY_LIMIT) {
        alert('โ๏ธ ุญุฏ ูุฒูู ุฑูุฒุงูู ุฑุฏ ุดุฏ!');
    }
}
```

---

## ๐ฏ ฺฏุงู 6: ุจูููโุณุงุฒ ู ุจูุจูุฏ

### 6.1 ุงุณุชูุงุฏู ุงุฒ Cached Responses
```javascript
const cache = new Map();

async function getAIAdviceCached(incompleteTasks) {
    const key = JSON.stringify(incompleteTasks);
    
    if (cache.has(key)) {
        console.log('โ ุงุณุชูุงุฏู ุงุฒ ฺฉุด');
        return cache.get(key);
    }
    
    const result = await getAIAdvice(incompleteTasks);
    cache.set(key, result);
    
    return result;
}
```

### 6.2 Rate Limiting
```javascript
let lastRequest = 0;
const MIN_INTERVAL = 5000; // 5 seconds

async function getAIAdviceWithLimiting(incompleteTasks) {
    const now = Date.now();
    if (now - lastRequest < MIN_INTERVAL) {
        throw new Error('Please wait 5 seconds');
    }
    
    lastRequest = now;
    return await getAIAdvice(incompleteTasks);
}
```

### 6.3 ูพุดููุงุฏ: ุงูุชูุงู ุจู Backend
```javascript
// server.js (Node.js + Express)
app.post('/api/ai-coach', async (req, res) => {
    try {
        const response = await fetch('https://api.x.ai/v1/chat/completions', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${process.env.XAI_API_KEY}`
            },
            body: JSON.stringify({
                model: 'grok-beta',
                messages: req.body.messages,
                max_tokens: 500
            })
        });
        
        const data = await response.json();
        res.json(data);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});

// ุฏุฑ frontend:
async function getAIAdvice(incompleteTasks) {
    const response = await fetch('/api/ai-coach', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ messages: [...] })
    });
    
    return await response.json();
}
```

---

## ๐ ฺฏุงู 7: ุฎูุงุตู ู ฺฺฉโูุณุช

### โ ฺฺฉโูุณุช ูุนุงูโุณุงุฒ
- [ ] ุงุดุชุฑุงฺฉ X Premium+ ุง SuperGrok ุฎุฑุฏุงุฑ ุดุฏู
- [ ] ฺฉูุฏ API ุงุฌุงุฏ ุดุฏู ู ูุถุนุช "Active"
- [ ] ฺฉูุฏ ุฏุฑ ฺฉุฏ ุฏุฑุฌ ุดุฏู
- [ ] ุชุณุช ุงุชุตุงู ุจุง console.log ูููู
- [ ] ูุฏุฑุช ุฎุทุง ูพุงุฏูโุณุงุฒ ุดุฏู
- [ ] Fallback ุจู ูพุดููุงุฏุงุช ูุญู

### ๐ฏ ููฺฉโูุง ููุฏ
- [Console xAI](https://console.x.ai)
- [ูุณุชูุฏุงุช ูุฏูโูุง](https://docs.x.ai/docs/models)
- [ููุชโฺฏุฐุงุฑ](https://docs.x.ai/docs/pricing)
- [ูพุดุชุจุงู](mailto:support@x.ai)

### ๐ก ูฺฉุงุช ููู
1. **ุงููุช**: ฺฉูุฏ API ุฑุง ุฏุฑ frontend ูฺฏุฐุงุฑุฏ (ุงุณุชูุงุฏู ุงุฒ backend)
2. **ูุญุฏูุฏุช**: ูุฑุฎโูุง ุฑุง ุฑุนุงุช ฺฉูุฏ (2M tokens/min)
3. **ูุฒูู**: ุงุฒ ูุฒููโูุง ุขฺฏุงู ุจุงุดุฏ
4. **ุจูโุฑูุฒุฑุณุงู**: ุชุงุฑุฎ deprecation Live Search ุฑุง ฺฺฉ ฺฉูุฏ

---

## ๐ ุงุฌุฑุง ููุง

```bash
# 1. ุงุทููุงู ุงุฒ ุงุฌุฑุง ุณุฑูุฑ
npm start

# 2. ุจุงุฒ ฺฉุฑุฏู ูุฑูุฑฺฏุฑ
# http://localhost:8080/coach

# 3. ุชุณุช ุฏฺฉูู AI
# ฺฉูฺฉ ุฑู "๐ฎ ุฏุฑุงูุช ูุดุงูุฑู ุจุง xAI"

# 4. ุจุฑุฑุณ Console (F12)
# ุจุงุฏ: "๐ ุฏุฑ ุญุงู ุงุชุตุงู ุจู xAI API..."
# ุณูพุณ: "โ ูพุงุณุฎ ุฏุฑุงูุช ุดุฏ: {...}"
```

---

## ๐ ูููู ุจุงุดุฏ!

ุงฺฏุฑ ูุดฺฉู ุฏุงุดุชุฏ:
1. Console ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ูุถุนุช ฺฉูุฏ ุฑุง ฺฺฉ ฺฉูุฏ
3. ุงุดุชุฑุงฺฉ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. ุจุง support@x.ai ุชูุงุณ ุจฺฏุฑุฏ

**ุชุงุฑุฎ ุจูโุฑูุฒุฑุณุงู**: 27 ุงฺฉุชุจุฑ 2025  
**ูพุฑูฺู**: Topping Empire AI Logistics  
**ุชูุณุนูโุฏููุฏู**: ุญูุฏุฑุถุง ุจุฑุฒูุ ุชูุฑูุชูุ ฺฉุงูุงุฏุง



